<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CBICA Toolkit: h Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CBICA Toolkit
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classN3MRIBiasFieldCorrectionImageFilter_1_1h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">h Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of the N3 MRI bias field correction algorithm.  
 <a href="classN3MRIBiasFieldCorrectionImageFilter_1_1h.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="itkN3MRIBiasFieldCorrectionImageFilter_8h_source.html">itkN3MRIBiasFieldCorrectionImageFilter.h</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the N3 MRI bias field correction algorithm. </p>
<p>The nonparametric nonuniform intensity normalization (N3) algorithm is a method for correcting nonuniformity associated with MR images. The algorithm assumes a simple parametric model (Gaussian) for the bias field but does not require tissue class segmentation. In addition, there are only a couple of parameters to tune with the default values performing quite well.</p>
<p>N3 has been publicly available as a set of perl scripts (<a href="http://www.bic.mni.mcgill.ca/software/N3/">http://www.bic.mni.mcgill.ca/software/N3/</a>) but, with this class, has been reimplemented for the ITK library with only one minor variation involving the b-spline fitting routine. We replaced the original fitting approach with the itkBSplineScatteredDataPointSetToImageFilter which is not susceptible to ill-conditioned matrix calculation as is the original proposed fitting component.</p>
<p>Notes for the user: 0. Based on our experience with the filter, sometimes the scale of the bias field is too small particularly for large mesh element sizes. Therefore, we added an option (which is true by default) for finding the optimal scaling of the bias field which is based on minimizing the coefficient of variation of the corrected image. This cost function is given below in N3BiasFieldScaleCostFunction.</p><ol type="1">
<li>Since much of the image manipulation is done in the log space of the intensities, input images with negative and small values (&lt; 1) are discouraged.</li>
<li>The original authors recommend performing the bias field correction on a downsampled version of the original image.</li>
<li>A mask and/or confidence image can be supplied.</li>
<li>The filter returns the corrected image. If the bias field is wanted, one can reconstruct it using the class itkBSplineControlPointImageFilter. See the IJ article and the test file for an example.</li>
<li>The 'Z' parameter in Sled's 1998 paper is the square root of the class variable 'm_WeinerFilterNoise'.</li>
</ol>
<dl class="section author"><dt>Author</dt><dd>Nicholas J. Tustison</dd></dl>
<p>Contributed by Nicholas J. Tustison, James C. Gee in the Insight Journal paper:</p>
<dl class="section user"><dt>REFERENCE</dt><dd>J.G. Sled, P. Zijdenbos and A.C. Evans, "A comparison of retrospective
intensity non-uniformity correction methods for MRI". Information Processing Medical Imaging Proc, 15th Int. Conf. IMPI'97, vol.1230, pp 459-464,1997.</dd></dl>
<p>J.G. Sled, A.P. Zijdenbos and A.C. Evans. "A Nonparametric Method for
Automatic Correction of Intensity Nonuniformity in MRI Data" IEEE Transactions on Medical Imaging, Vol 17, No 1. Feb 1998. </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>src/classes/itk/<a class="el" href="itkN3MRIBiasFieldCorrectionImageFilter_8h_source.html">itkN3MRIBiasFieldCorrectionImageFilter.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="navelem"><b>N3MRIBiasFieldCorrectionImageFilter</b></li><li class="navelem"><a class="el" href="classN3MRIBiasFieldCorrectionImageFilter_1_1h.html">h</a></li>
				<class="footer">
					Generated by <a href="http://www.doxygen.org/index.html">
					<img class="footer" src="doxygen.png" alt="doxygen"/></a>.
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>